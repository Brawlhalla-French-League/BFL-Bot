generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model GuildProfile {
  id            String         @id
  lobbysModule  LobbysModule?
  momentsModule MomentsModule?
  ticketsModule TicketsModule?
}

model LobbysModule {
  guildId             String       @id
  guild               GuildProfile @relation(fields: [guildId], references: [id])
  enabled             Boolean      @default(false)
  generatorCategoryId String?
  categoryId          String?
  generatorPrefix     String?      @default("âž• ")
  prefix              String?      @default("âš” ")
}

model MomentsModule {
  guildId   String       @id
  guild     GuildProfile @relation(fields: [guildId], references: [id])
  enabled   Boolean      @default(false)
  roleId    String?
  channelId String?
}

model TicketsModule {
  guildId      String       @id
  guild        GuildProfile @relation(fields: [guildId], references: [id])
  enabled      Boolean      @default(false)
  roleId       String?
  categoryId   String?
  prefix       String?      @default("ðŸ“©-ticket-")
  closedPrefix String?      @default("ðŸ“©-closed-")
  duration     Int          @default(172800000) // 2 days
}
